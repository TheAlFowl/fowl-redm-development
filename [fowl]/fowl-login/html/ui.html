<head>
	<script src="nui://game/ui/jquery.js" type="text/javascript"></script>
	<script type="text/javascript" src="scripts.js"></script>
	<script src="debounce.min.js" type="text/javascript"></script>
	<link href="https://fonts.googleapis.com/css2?family=Alex+Brush&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="styles.css" type="text/css">
</head>
<body>
	<div id="mainwrap">
		<div id="mmenu">
			<h1 id="mmenu-welcome" class="menu-text">WELCOME TO</h1>
			<span class="linebreak"></span>
			<div id="mmenu-title">
				<img id="mmenu-background" src="assets/textures/hud_menu_5a.png">
				<h1 class="title-text menu-text">fowl's redm server</h1>
			</div>
			<span class="linebreak"></span>
			<h1 id="mmenu-prompt" class="menu-text">loading...</h1>
		</div>

		<div id="cmenu" style="display:none">
			<div class="menu-title">
				<h1 class="menu-text-large">characters</h1>
				<span class="linebreak"></span>
				<img id="cmenu-underline" class="menu-underline" src="assets/textures/crafting_highlight_b.png"></img>
			</div>
			<div id="cmenu-selection">
				<img id="cmenu-background" src="assets/textures/translate_bg_1a.png"></img>
				<button id="new-char-button-ghost" class="ghost-button">new <br>character</button>

				<div id="cmenu-chars"></div>

				<button id="new-char-button" onclick="newChar();">new <br>character</button>
			</div>
			<div id="cmenu-newchar" style="display:none">
				<img id="cmenu-background" src="assets/textures/translate_bg_1a.png"></img>
				<div id="cmenu-new-char">
					<div class="charwindow">
						<img class="cwindow-border" src="assets/textures/char-window-border.png"></img>
						<div class="char-data">

							<div class="char-info">
								<div class="char-info-tag">
									<h1 class="info-text">first name</h1>
								</div>
								<span class="linebreak"></span>
								<div class="char-info-value">
									<input id="newcharinput-firstname" class="info-input" maxlength="18"></input>
								</div>
								<img class="info-divider" src="assets/textures/divider_line.png"></img>
							</div>

							<div class="char-info">
								<div class="char-info-tag">
									<h1 class="info-text">last name</h1>
								</div>
								<span class="linebreak"></span>
								<div class="char-info-value">
									<input id="newcharinput-lastname" class="info-input" maxlength="18"></input>
								</div>
								<img class="info-divider" src="assets/textures/divider_line.png"></img>
							</div>

						</div>
						<button id="newchar-create-button" onclick="createNewChar();" oninput="bigCaps();">create</button>
					</div>
				</div>
			</div>
			<span class="linebreak"></span>
			<h1 id="login-prompt" class="menu-text"></h1>
		</div>

		<div id="smenu" style="display:none">
			<div class="menu-title">
				<h1 class="menu-text-large">spawn</h1>
				<span class="linebreak"></span>
				<img id="smenu-underline" class="menu-underline" src="assets/textures/crafting_highlight_b.png"></img>
			</div>
			<div id="smenu-markers"></div>
			<div id="smenu-options" style="display:none">
				<div id="back-arrow" onclick="cancelSpawn();"></div>
				<div id="confirm-button" onclick="confirmSpawn();">
					<h1 id="confirm-text" class="menu-text-large">confirm</h1>
				</div>
			</div>
		</div>

	</div>
</body>

<script type="text/javascript">
	$("#mainwrap").hide();

	window.addEventListener('message', function(event) {
		var ed = event.data;

		if (ed.initMenu) { 
			$("#mainwrap").show();
		};
	});

	var mmenu_clicked = false
	function mmenuContinue() {
		if (mmenu_clicked != true) {
			mmenu_clicked = true;
			charSelect();
		};
	};

	function charSelect() {
		$("#mmenu").hide();
		$("#cmenu").show();
	}; 

	function newChar() {
		$("#cmenu-selection").hide();
		$("#cmenu-newchar").show();
	};

	function bigCaps() {

	};
</script>